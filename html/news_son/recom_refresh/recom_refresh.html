<!doctype html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
		<link href="../../../css/mui.min.css" rel="stylesheet" />
		<link rel="stylesheet" type="text/css" href="../../../css/recom_refresh.css"/>
	</head>
	<body>
		<script src="../../../js/mui.min.js"></script>
		<script type="text/javascript">
			mui.init({
				pullRefresh : {
				    container:"#refreshContainer",//下拉刷新容器标识，querySelector能定位的css选择器均可，比如：id、.class等
				    down : {    	
//					    style:'circle',//必选，下拉刷新样式，目前支持原生5+ ‘circle’ 样式
					    color:'#2BD009', //可选，默认“#2BD009” 下拉刷新控件颜色
					//  height:20,//可选,默认50px.下拉刷新控件的高度,
					    range:'40px', //可选 默认100px,控件可下拉拖拽的范围
					    offset:'10px', //可选 默认0px,下拉刷新控件的起始位置
					    auto: true,//可选,默认false.首次加载自动上拉刷新一次
						contentrefresh: '刷新成功',
					    //必选，刷新函数，根据具体业务来编写，比如通过ajax从服务器获取新数据；
					    contentdown : "下拉可以刷新",//可选，在下拉可刷新状态时，下拉刷新控件上显示的标题内容
					    contentover : "释放立即刷新",//可选，在释放可刷新状态时，下拉刷新控件上显示的标题内容
					    contentrefresh : "正在刷新...",
					    callback :pulldownRefresh,//可选，正在刷新状态时，下拉刷新控件上显示的标题内容
				    },
				}
			});
	function pulldownRefresh() {
        setTimeout(function () {
        	//querySelector()返回匹配指定选择器的第一个元素;
        	//querySelectorAll()返回所有的元素
        	//createElement创建一个文本节点
//          var table = document.body.querySelector('.mui-table-view');
//          var cells = document.body.querySelectorAll('.mui-table-view-cell');
//          for (var i = cells.length, len = i + 3; i < len; i++) {
//              var li = document.createElement('li');
//              li.className = 'mui-table-view-cell';
//              li.innerHTML = '<a class="mui-navigate-right">人员名称: ' + (i + 1) + '</a>';
//              //下拉刷新，新纪录插到最前面；
//              table.insertBefore(li, table.firstChild);
////               table.insertBefore(li, table.lastChild);/*后添加*/
//          }
            mui('#refreshContainer').pullRefresh().endPulldownToRefresh(); //refresh completed
        }, 1500);
    }
	//上拉加载
		var count = 0;
			function pullupRefresh() {  
			        setTimeout(function () {
			            mui('#refreshContainer').pullRefresh().endPullupToRefresh((++count > 2)); //参数为true代表没有更多数据了。
			            var table = document.body.querySelector('.mui-table-view');
			            var cells = document.body.querySelectorAll('.mui-table-view-cell');
			            for (var i = cells.length, len = i + 5; i < len; i++) {
			                var li = document.createElement('li');
			                li.className = 'mui-table-view-cell';
			                li.innerHTML = '<a class="mui-navigate-right">人员名称: 张三 ' + (i + 1) + '</a>';
			                table.appendChild(li);
			            }
			             mui('#refreshContainer').pullRefresh().endPullupToRefresh();
			        }, 1000);
			    }
		</script>
		<!--下拉刷新容器-->
		<div id="refreshContainer" class="mui-content mui-scroll-wrapper">
		  <div class="mui-scroll">
		    <!--数据列表-->
		    <ul class="mui-table-view mui-table-view-chevron">
		      	<li class="mui-table-view-cell">
			        <a class="mui-navigate-right">张三</a>
			    <li>
			    	<li class="mui-table-view-cell">
			        <a class="mui-navigate-right">张三</a>
			    <li>
			    	<li class="mui-table-view-cell">
			        <a class="mui-navigate-right">张三</a>
			    <li>
			    	<li class="mui-table-view-cell">
			        <a class="mui-navigate-right">张三</a>
			    <li>
			    	<li class="mui-table-view-cell">
			        <a class="mui-navigate-right">张三</a>
			    <li>
			    	
			    	<li class="mui-table-view-cell">
			        <a class="mui-navigate-right">张三</a>
			    <li>
			    	<li class="mui-table-view-cell">
			        <a class="mui-navigate-right">张三</a>
			    <li>
			    	<li class="mui-table-view-cell">
			        <a class="mui-navigate-right">张三</a>
			    <li>
			    	
			    	<li class="mui-table-view-cell">
			        <a class="mui-navigate-right">张三</a>
			    <li>
			    	<li class="mui-table-view-cell">
			        <a class="mui-navigate-right">张三</a>
			    <li>
			    	<li class="mui-table-view-cell">
			        <a class="mui-navigate-right">张三</a>
			    <li>
			    	
			    	<li class="mui-table-view-cell">
			        <a class="mui-navigate-right">张三</a>
			    <li>
			    	<li class="mui-table-view-cell">
			        <a class="mui-navigate-right">张三</a>
			    <li>
			    	<li class="mui-table-view-cell">
			        <a class="mui-navigate-right">张三</a>
			    <li>
			    	
			    	<li class="mui-table-view-cell">
			        <a class="mui-navigate-right">张三</a>
			    <li>
			    	<li class="mui-table-view-cell">
			        <a class="mui-navigate-right">张三</a>
			    <li>
			    	<li class="mui-table-view-cell">
			        <a class="mui-navigate-right">张三</a>
			    <li>
		    </ul>
		  </div>
		</div>
	</body>

</html>